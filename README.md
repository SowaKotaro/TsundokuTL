# TsundokuTL
読書記録をタイムラインに沿ってグラフ形式でブラウザ上に表示するコードとデータを管理するリポジトリ
完成イメージは http://www.wasowaso.com/TsundokuTL を参照

以下の形式のテキストデータがあればタイムラインの描画が可能
```
[期] 202211
    [積] TSUN
        [題] ヒキガエル君、カウンセリングを受けたまえ。
        [題] 風が強く吹いている
    [読] DOKU
        [題] 吉祥寺の朝日奈くん
        [題] スティーブ・ジョブズⅡ
        [題] サラバ！
        [題] ボンボンと悪夢
```
※完全一致でタイトルを処理するため、[積]と[読]の同一タイトルは表記を統一しなければならない。（句読点の有無などで動かなくなる）

※ローカルで実行するためには一度サーバを立てる必要がある（windowsのfile://...ではシステム的に処理できない ）
```
python -m http.server 8000
```
# 実行手順
1. **テキストデータを解析しJsonファイルを作成する**
  ```
  python convertTxt2Json.py
  ```
2. **JsonファイルからD3.jsで扱うことのできるノードとエッジに書き換えたJsonファイルに変換**
  ```
  python make_nodes_and_links.py
  ```
3. **HTMLの変更**
   ステップ2を実行すると
```
区切り線
[35, 805, 1365, 1645, 2345, 2555, 2835, 3045, 3255, 3465, 4025, 4655, 4865, 5075, 5495, 5705, 5915, 6265, 6615, 6825, 7035, 7245, 7455, 7875, 8295, 8785, 8995, 9205, 9415]
svgのheightは9690
```
という標準出力がされるので，手作業でhtmlファイル内の`<svg width="2000" height="9690"></svg>`と`const separatorLines = [35, ... ]`に書き込む
